# Plataforma de Agentes de IA para Negocios

Una plataforma escalable para implementar agentes de automatizaci贸n impulsados por IA utilizando OpenAI, Django y n8n. Esta soluci贸n proporciona agentes de IA rentables para peque帽as y medianas empresas.

##  Caracter铆sticas

### Agente Asistente de Correo Electr贸nico
- Clasificaci贸n y priorizaci贸n autom谩tica de correos
- Generaci贸n inteligente de respuestas
- Flujo de trabajo de revisi贸n humana para casos complejos
- Seguimiento de uso y an谩lisis
- Plantillas de respuesta personalizables

### Agente Coach de Ventas
- Transcripci贸n de llamadas de ventas usando Whisper
- An谩lisis de llamadas en tiempo real
- Seguimiento de m茅tricas de rendimiento
- Sugerencias de mejora
- An谩lisis de sentimiento

##  Arquitectura

### Stack Tecnol贸gico
- **Backend**: Django + Django REST Framework
- **Integraci贸n IA**: OpenAI API
- **Automatizaci贸n de Flujos**: n8n
- **Base de Datos**: PostgreSQL
- **Cach茅**: Redis
- **Contenedorizaci贸n**: Docker & Docker Compose
- **Servidor Web**: Nginx

### Requisitos del Sistema
- Docker y Docker Compose
- 4GB RAM m铆nimo (8GB recomendado)
- 20GB de espacio en disco disponible
- Linux/macOS/Windows con WSL2

##  Comenzando

### Prerrequisitos
1. Docker y Docker Compose instalados
2. Clave API de OpenAI
3. Git

### Instalaci贸n

1. Clonar el repositorio:
```bash
git clone https://github.com/tuusuario/ai-business-agents.git
cd ai-business-agents
```

2. Configurar variables de entorno:
```bash
cp .env.example .env
```

Editar `.env` con tus configuraciones:
```
DJANGO_SECRET_KEY=tu-clave-secreta
OPENAI_API_KEY=tu-clave-openai
...
```

3. Construir e iniciar los contenedores:
```bash
docker-compose up -d --build
```

4. Ejecutar migraciones de base de datos:
```bash
docker-compose exec backend python manage.py migrate
```

5. Crear usuario administrador:
```bash
docker-compose exec backend python manage.py createsuperuser
```

6. Importar flujos de trabajo de n8n:
- Acceder a n8n en `http://localhost:5678`
- Importar flujos desde el directorio `n8n-workflows`

### Verificaci贸n
Accede a estas URLs para verificar la instalaci贸n:
- API Backend: `http://localhost/api/`
- Admin de Django: `http://localhost/admin/`
- Panel de n8n: `http://localhost:5678`

##  Uso

### Integraci贸n del Asistente de Correo

1. Configurar ajustes de correo en el admin de Django:
```python
# Ejemplo de configuraci贸n de correo
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = 'tu@email.com'
EMAIL_HOST_PASSWORD = 'tu-contrase帽a-app'
```

2. Crear una organizaci贸n en el admin de Django:
- Acceder a `/admin/core/organization/`
- Agregar nueva organizaci贸n con clave API

3. Configurar trigger de correo en n8n:
- Configurar nodo de correo con ajustes IMAP
- Conectar al flujo de procesamiento de correo

### Integraci贸n del Coach de Ventas

1. Preparar archivos de audio:
- Formatos soportados: MP3, WAV, M4A
- Tama帽o m谩ximo: 25MB

2. Uso de la API:
```bash
# Ejemplo de llamada API
curl -X POST \
  http://localhost/api/sales-coach/analyze-call/ \
  -H 'Authorization: Bearer TU_CLAVE_API' \
  -F 'audio_file=@/ruta/al/archivo.mp3'
```

##  Monitoreo y An谩lisis

### Seguimiento de Uso
Accede a estad铆sticas de uso en el admin de Django:
- Consumo de tokens
- Llamadas API
- Seguimiento de costos
- Tiempos de respuesta

### M茅tricas de Rendimiento
Monitorea el rendimiento del sistema:
```bash
# Verificar estado de contenedores
docker-compose ps

# Ver logs
docker-compose logs -f backend
```

##  Gesti贸n de Costos

### Costos de OpenAI
- GPT-3.5-turbo: $0.002 por 1K tokens
- Whisper ASR: Implementaci贸n local (gratis)

### Consejos de Optimizaci贸n de Costos
1. Usar cach茅 de respuestas para consultas similares
2. Implementar conteo de tokens
3. Establecer l铆mites de uso por organizaci贸n
4. Monitorear y ajustar la ingenier铆a de prompts

##  Desarrollo

### Configuraci贸n de Desarrollo Local

1. Crear entorno virtual Python:
```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate  # Windows
```

2. Instalar dependencias:
```bash
pip install -r backend/requirements.txt
```

3. Ejecutar servidor de desarrollo:
```bash
python backend/manage.py runserver
```

### Agregar Nuevos Agentes

1. Crear nuevo m贸dulo de agente:
```bash
mkdir backend/agents/nuevo_agente
touch backend/agents/nuevo_agente/{__init__,agent,models,views}.py
```

2. Registrar en configuraci贸n de Django:
```python
INSTALLED_APPS = [
    ...
    'agents.nuevo_agente',
]
```

3. Crear migraciones:
```bash
python manage.py makemigrations
python manage.py migrate
```

##  Seguridad

### Seguridad API
- Autenticaci贸n por clave API
- Limitaci贸n de tasa
- Lista blanca de IPs (opcional)
- Registro de solicitudes

### Protecci贸n de Datos
- Cifrado de contenido de correo
- Almacenamiento seguro de archivos de audio
- Auditor铆as de seguridad regulares
- Caracter铆sticas de cumplimiento GDPR

##  Respaldo y Recuperaci贸n

### Respaldo de Base de Datos
```bash
# Crear respaldo
docker-compose exec db pg_dump -U postgres ai_agents > respaldo.sql

# Restaurar respaldo
docker-compose exec db psql -U postgres ai_agents < respaldo.sql
```

### Respaldo de Vol煤menes
```bash
# Respaldar vol煤menes
docker run --rm -v ai-business-agents_postgres_data:/data -v $(pwd):/backup alpine tar czf /backup/postgres_data.tar.gz /data
```

##  Licencia

Este proyecto est谩 licenciado bajo la Licencia MIT - ver el archivo LICENSE para detalles.

##  Contribuir

1. Hacer fork del repositorio
2. Crear rama de caracter铆stica
3. Hacer commit de los cambios
4. Hacer push a la rama
5. Crear Pull Request

##  Soporte

- Crear un issue en el repositorio
- Email: soporte@tudominio.com
- Documentaci贸n: `/docs`

##  Hoja de Ruta

### Pr贸ximas Caracter铆sticas
- [ ] Agente de Procesamiento de Documentos
- [ ] Predicci贸n de Abandono de Clientes
- [ ] Soporte Multi-idioma
- [ ] Panel de An谩lisis Avanzado
- [ ] Integraci贸n de API Gateway

### Historial de Versiones
- v1.0.0 - Lanzamiento Inicial
  - Asistente de Correo
  - Coach de Ventas
- v1.1.0 - Planificado
  - Mejoras de Rendimiento
  - Agentes Adicionales

##  Casos de Uso

### Para Peque帽as Empresas
- Automatizaci贸n de atenci贸n al cliente
- An谩lisis de llamadas de ventas
- Gesti贸n de correos electr贸nicos
- Reducci贸n de costos operativos

### Para Medianas Empresas
- Integraci贸n con sistemas existentes
- Escalabilidad de operaciones
- An谩lisis avanzado de datos
- Personalizaci贸n de agentes
```